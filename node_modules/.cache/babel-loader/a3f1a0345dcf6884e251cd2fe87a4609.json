{"ast":null,"code":"import axios from \"axios\";\nimport setAuthToken from \"./authToken\";\nimport jwt_decode from 'jwt-decode';\nvar userRequest = axios.create({\n  baseURL: 'https://backend-111406.herokuapp.com/',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\nexport function login(user_id, password) {\n  return userRequest.post(\"/api/user/login\", JSON.stringify({\n    user_id: user_id,\n    password: password\n  })).then(function (res) {\n    var token = res.data.token;\n    localStorage.setItem('jwToken', token);\n    setAuthToken(token);\n    var decoded = jwt_decode(token);\n    dispatchEvent(setCurrentUser(decoded));\n    {\n      console.log(\"decoded\");\n    }\n  }).catch(function (err) {\n    return err.toString();\n  });\n}","map":{"version":3,"names":["axios","setAuthToken","jwt_decode","userRequest","create","baseURL","headers","login","user_id","password","post","JSON","stringify","then","res","token","data","localStorage","setItem","decoded","dispatchEvent","setCurrentUser","console","log","catch","err","toString"],"sources":["E:/fork/frontend-111406/src/new/common/apiUtil.js"],"sourcesContent":["import axios from \"axios\";\r\nimport setAuthToken from \"./authToken\";\r\nimport jwt_decode from 'jwt-decode'\r\nconst userRequest = axios.create({\r\n    baseURL: 'https://backend-111406.herokuapp.com/',\r\n    headers: { 'Content-Type': 'application/json' },\r\n  })\r\n\r\nexport function login(user_id, password) {\r\n    return userRequest.post(\"/api/user/login\",\r\n        JSON.stringify({\r\n            user_id,\r\n            password,\r\n        })\r\n    ).then((res) => {\r\n        const { token } = res.data;\r\n        localStorage.setItem('jwToken', token);\r\n        setAuthToken(token);\r\n        const decoded = jwt_decode(token);\r\n        dispatchEvent(setCurrentUser(decoded));\r\n        { console.log(\"decoded\"); }\r\n    }).catch((err) => err.toString());\r\n}"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,aAAzB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,IAAMC,WAAW,GAAGH,KAAK,CAACI,MAAN,CAAa;EAC7BC,OAAO,EAAE,uCADoB;EAE7BC,OAAO,EAAE;IAAE,gBAAgB;EAAlB;AAFoB,CAAb,CAApB;AAKA,OAAO,SAASC,KAAT,CAAeC,OAAf,EAAwBC,QAAxB,EAAkC;EACrC,OAAON,WAAW,CAACO,IAAZ,CAAiB,iBAAjB,EACHC,IAAI,CAACC,SAAL,CAAe;IACXJ,OAAO,EAAPA,OADW;IAEXC,QAAQ,EAARA;EAFW,CAAf,CADG,EAKLI,IALK,CAKA,UAACC,GAAD,EAAS;IAAA,IACJC,KADI,GACMD,GAAG,CAACE,IADV,CACJD,KADI;IAEZE,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAgCH,KAAhC;IACAd,YAAY,CAACc,KAAD,CAAZ;IACA,IAAMI,OAAO,GAAGjB,UAAU,CAACa,KAAD,CAA1B;IACAK,aAAa,CAACC,cAAc,CAACF,OAAD,CAAf,CAAb;IACA;MAAEG,OAAO,CAACC,GAAR,CAAY,SAAZ;IAAyB;EAC9B,CAZM,EAYJC,KAZI,CAYE,UAACC,GAAD;IAAA,OAASA,GAAG,CAACC,QAAJ,EAAT;EAAA,CAZF,CAAP;AAaH"},"metadata":{},"sourceType":"module"}