{"ast":null,"code":"import _slicedToArray from \"E:\\\\fork\\\\frontend-111406\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"E:\\\\fork\\\\frontend-111406\\\\src\\\\new\\\\page\\\\searchpage\\\\index.js\";\nimport React, { Component, useState } from \"react\";\nimport { Div0, SearchDiv, ContentDiv, SearchTitle, DivLog, InPutL, DivLogin } from './sty';\nimport { Token } from \"../../common/token\";\nimport Header from '../../common/header/index';\nimport { useNavigate } from \"react-router-dom\";\n// const [loading, setLoading] = React.useState(false);\n// const [username, setUsername] = useState(\"\");\n// const [errorMessage, setErrorMessage] = useState(\"\");\nvar allUser = [];\nvar SearchPage = function SearchPage() {\n  var navigate = useNavigate();\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    searchName = _useState2[0],\n    setSearchName = _useState2[1];\n  var handleSearchName = function handleSearchName(e) {\n    setSearchName(e.target.value);\n  };\n  fetch('https://backend-111406.onrender.com/api/user', {\n    method: \"GET\",\n    headers: new Headers({\n      'Content-Type': 'application/json',\n      'token': Token /* 把token放在這 */\n    })\n  }).then(function (response) {\n    return response.json();\n  }).then(function (myJson) {\n    return myJson.data;\n  }).then(function (user) {\n    for (var i = 0; i < user.length; i++) {\n      allUser.push(user[i].user_id);\n    }\n\n    // console.log(allUser);\n  });\n\n  var handleSearch = function handleSearch(e) {\n    for (var i = 0; i < allUser.length; i++) {\n      if (allUser[i] == searchName) {\n        // console.log(searchName);\n        navigate('/personal/' + searchName);\n      }\n    }\n  };\n  return /*#__PURE__*/React.createElement(Div0, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(ContentDiv, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(SearchDiv, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(SearchTitle, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 29\n    }\n  }, \"\\u8ACB\\u8F38\\u5165\\u6B32\\u641C\\u5C0B\\u4F7F\\u7528\\u8005\\uFF1A\"), /*#__PURE__*/React.createElement(DivLog, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(InPutL, {\n    id: \"email\",\n    type: \"text\",\n    placeholder: \"USERNAME\",\n    size: \"30\",\n    value: searchName,\n    onChange: handleSearchName,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(DivLogin, {\n    type: \"button\",\n    className: \"btn btn-primary\",\n    value: '搜尋',\n    onClick: handleSearch,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 29\n    }\n  }))));\n};\nexport default SearchPage;","map":{"version":3,"names":["React","Component","useState","Div0","SearchDiv","ContentDiv","SearchTitle","DivLog","InPutL","DivLogin","Token","Header","useNavigate","allUser","SearchPage","navigate","searchName","setSearchName","handleSearchName","e","target","value","fetch","method","headers","Headers","then","response","json","myJson","data","user","i","length","push","user_id","handleSearch"],"sources":["E:/fork/frontend-111406/src/new/page/searchpage/index.js"],"sourcesContent":["import React,{Component,useState} from \"react\";\r\nimport {Div0,SearchDiv,ContentDiv,SearchTitle,DivLog,InPutL,DivLogin} from'./sty';\r\nimport { Token } from \"../../common/token\";\r\nimport Header from '../../common/header/index';\r\nimport { useNavigate } from \"react-router-dom\";\r\n// const [loading, setLoading] = React.useState(false);\r\n// const [username, setUsername] = useState(\"\");\r\n// const [errorMessage, setErrorMessage] = useState(\"\");\r\nconst allUser=[];\r\n\r\n      \r\nconst SearchPage = () => {\r\n        const navigate = useNavigate();\r\n        const [searchName, setSearchName] = useState(\"\");\r\n        const handleSearchName = (e) => {\r\n            setSearchName(e.target.value);\r\n          };\r\n          \r\nfetch('https://backend-111406.onrender.com/api/user', {\r\n  method: \"GET\",\r\n  headers: new Headers({\r\n      'Content-Type': 'application/json',\r\n      'token': Token, /* 把token放在這 */\r\n  })\r\n}\r\n)\r\n.then(function(response) {\r\nreturn response.json();\r\n})\r\n.then(function(myJson) {\r\nreturn myJson.data;\r\n})\r\n.then(function(user) {\r\nfor (var i = 0; i < user.length; i++) {\r\nallUser.push(user[i].user_id);\r\n\r\n}\r\n\r\n// console.log(allUser);\r\n})\r\n        const handleSearch = (e) => {\r\n            for (var i = 0; i < allUser.length; i++) {\r\n                if(allUser[i]==searchName){\r\n                    // console.log(searchName);\r\n                    navigate('/personal/'+searchName);\r\n                }\r\n              }\r\n          };\r\n        return (\r\n                <Div0>\r\n                    <Header></Header>\r\n                    <ContentDiv>\r\n                        <SearchDiv>\r\n                            <SearchTitle>請輸入欲搜尋使用者：</SearchTitle>\r\n                            <DivLog>\r\n                            <InPutL id=\"email\" type=\"text\" placeholder=\"USERNAME\" size=\"30\" value={searchName} onChange={handleSearchName} ></InPutL>\r\n                            </DivLog>\r\n                            <DivLogin type=\"button\" className=\"btn btn-primary\" value={'搜尋'} onClick={handleSearch}>\r\n                            </DivLogin>\r\n                        </SearchDiv>\r\n                    </ContentDiv>\r\n                </Div0>\r\n        );}\r\n\r\nexport default SearchPage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}