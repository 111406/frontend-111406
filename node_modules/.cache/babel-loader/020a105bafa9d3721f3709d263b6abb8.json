{"ast":null,"code":"import axios from \"axios\";\nimport setAuthToken from \"./authToken\";\nimport jwt_decode from 'jwt-decode';\nvar userRequest = axios.create({\n  baseURL: 'https://web-backend-111406.onrender.com/api/',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\nexport var login = function login(user_id, password) {\n  return userRequest.post(\"/api/user/login\", JSON.stringify({\n    user_id: user_id,\n    password: password\n  })).then(function (res) {\n    console.log(res.headers.get('token'));\n    console.log(res.data);\n    var token = res.data.token;\n    localStorage.setItem('jwToken', token);\n    setAuthToken(token);\n    var decoded = jwt_decode(token);\n  }).catch(function (err) {\n    return err.toString();\n  });\n};","map":{"version":3,"names":["axios","setAuthToken","jwt_decode","userRequest","create","baseURL","headers","login","user_id","password","post","JSON","stringify","then","res","console","log","get","data","token","localStorage","setItem","decoded","catch","err","toString"],"sources":["E:/fork/frontend-111406/src/new/common/apiUtil.js"],"sourcesContent":["import axios from \"axios\";\r\nimport setAuthToken from \"./authToken\";\r\nimport jwt_decode from 'jwt-decode'\r\nconst userRequest = axios.create({\r\n    baseURL: 'https://web-backend-111406.onrender.com/api/',\r\n    headers: { 'Content-Type': 'application/json' },\r\n  })\r\n\r\nexport const login = (user_id, password) => {\r\n    return userRequest.post(\"/api/user/login\",\r\n    JSON.stringify({\r\n        user_id,\r\n        password,})\r\n        ).then((res) =>{ \r\n            console.log(res.headers.get('token'))\r\n            console.log(res.data)\r\n            const {token} = res.data;\r\n            localStorage.setItem('jwToken',token)\r\n            setAuthToken(token)\r\n            const decoded = jwt_decode(token)\r\n    }).catch((err)=>err.toString());\r\n  };"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,aAAzB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,IAAMC,WAAW,GAAGH,KAAK,CAACI,MAAN,CAAa;EAC7BC,OAAO,EAAE,8CADoB;EAE7BC,OAAO,EAAE;IAAE,gBAAgB;EAAlB;AAFoB,CAAb,CAApB;AAKA,OAAO,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAACC,OAAD,EAAUC,QAAV,EAAuB;EACxC,OAAON,WAAW,CAACO,IAAZ,CAAiB,iBAAjB,EACPC,IAAI,CAACC,SAAL,CAAe;IACXJ,OAAO,EAAPA,OADW;IAEXC,QAAQ,EAARA;EAFW,CAAf,CADO,EAIDI,IAJC,CAII,UAACC,GAAD,EAAQ;IACXC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACR,OAAJ,CAAYW,GAAZ,CAAgB,OAAhB,CAAZ;IACAF,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACI,IAAhB;IAFW,IAGJC,KAHI,GAGKL,GAAG,CAACI,IAHT,CAGJC,KAHI;IAIXC,YAAY,CAACC,OAAb,CAAqB,SAArB,EAA+BF,KAA/B;IACAlB,YAAY,CAACkB,KAAD,CAAZ;IACA,IAAMG,OAAO,GAAGpB,UAAU,CAACiB,KAAD,CAA1B;EACP,CAXM,EAWJI,KAXI,CAWE,UAACC,GAAD;IAAA,OAAOA,GAAG,CAACC,QAAJ,EAAP;EAAA,CAXF,CAAP;AAYD,CAbI"},"metadata":{},"sourceType":"module"}